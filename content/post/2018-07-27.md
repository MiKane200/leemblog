+++
title = "2018-07-27"
weight = 84
+++

Fifth day of Third week
=

---

## SQL

##### 对于一个sql问题（今天主要是做sql的练习题）
1. 通用的一些东西：exist,in。
2. 单行函数：
    1. 单行函数truncte,round,ceil,
    2. 字符函数，字符串函数。
    3. 数字函数
    4. 日期操作和运行函数
    5. 数据类型转换函数
    6. nvl
    7. decode情况函数。
3. 分组计算函数：相对于单行函数，也可称之为多行函数，它的输入是多个行构成得一个行集（这个行集可以是 一张表的所有行，也可以是按照某个维度进行分组后的某一组行），而输出都是一个值。
    1. MIN, MAX 可用于任何数据类型，但AVG ， SUM，STDDEV,  VARIANCE仅适用于数值型字段。
    2. count,grouping函数
    3. LPAD函数
4. 分析函数：
    1. over(partition by)

1. 单表还是多表
2. 单表
    1. 非相关子查询当作一张表来用,比如找比每个部门薪水平均值大的。
    2. 相关子查询的概念:  子查询中参考了外部主查询中的表。 
    3. 概念
        1. 非相关子查询是独立于外部查询的子查询，子查询总共执行一次，执行完毕后将值传递给外部查询。 可以在查询前用with来定义子查询，之后用就行了。
        2. 相关子查询的执行依赖于外部查询的数据，外部查询执行一行，子查询就执行一次。
3. 多表
    1. 内外各种连接：需要查找两张表同时存在的数据，使用内连接。需要查找两张表中一张表中的字段数据存在，另一张表不存在的时候使用左外链接 或 右外链接 。
    2. 连接表后进行单表操作。
4. 对于多表的分组问题，cube（开始是B间隔为null，然后是A一堆为null，过了A这段之后，B大段为null），rollup（B表有null的情况），grouping sets（AB表交叉为null的情况），无null的情况下就用不到group by什么的了。
5. drop这种ddl是默认事务提交的，dml则不是。